<!DOCTYPE html>
<html>

<head>
    <title>Front Desk Operator</title>
    <link rel="stylesheet" href="/home/deepsikha/Downloads/HospitalManagementSystem/static/css/front_desk_op_style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
</head>

<body>
    <div class="panel">Front Desk Operator</div>
    <div class="container">
        <div class="panel-options">
            <ul>
                <li class="option-format"><a href="#" class="option-link" data-panel="Register Patient">Register
                        Patient</a>
                </li>
                <li class="option-format"><a href="#" class="option-link" data-panel="Admit Patient">Admit Patient</a>
                </li>
                <li class="option-format"><a href="#" class="option-link" data-panel="Discharge Patient">Discharge
                        Patient</a></li>
                <li class="option-format"><a href="#" class="option-link" data-panel="Make Doctor Appointment">Make
                        Doctor's Appointment</a></li>
                <li class="option-format"><a href="#" style="text-decoration: none;" class="option-link"
                        data-panel="Make TnT Appointment">Make
                        Test/Treatment Appointment</a></li>
            </ul>
        </div>
        <div class="panel-form">
            <div id="Register Patient" class="form-panel">
                <h2 style="margin-top: 80px;">Register Patient</h2>
                <form action="#" method="post">
                    <label for="patient-name">Patient Name:</label>
                    <input type="text" id="patient-name" name="patient-name" required>

                    <label for="patient-age">Age:</label>
                    <input type="number" id="patient-age" name="patient-age" required>

                    <label for="patient-phone">Phone Number:</label>
                    <input type="text" id="patient-phone" name="patient-phone" required>

                    <label for="patient-email">e-Mail ID:</label>
                    <input type="email" id="patient-email" name="patient-email" required>

                    <label for="patient-address">Address:</label>
                    <input type="text" id="patient-address" name="patient-address" required>


                    <label for="patient-ins">Insurance ID:</label>
                    <input type="text" id="patient-ins" name="patient-ins" required>

                    <input type="submit" value="Submit">
                </form>
            </div>
            <div id="Admit Patient" class="form-panel">
                <h2 style="margin-top: 80px;">Admit Patient</h2>
                <h3>(Make sure Patient is Registered first)</h3>
                <form action="#" method="post">
                    <label for="patient-id">Patient ID:</label>
                    <input type="text" id="patient-id" name="patient-id" required>

                    <label for="admit-date">Admit Date:</label>
                    <input type="date" id="admit-date" name="admit-date" required>

                    <input type="submit" value="Submit">
                </form>
            </div>
            <div id="Discharge Patient" class="form-panel">
                <h2 style="margin-top: 80px;">Discharge Patient</h2>
                <h3>(Make sure Patient is Registered first)</h3>
                <form action="#" method="post">
                    <label for="patient-id">Patient ID:</label>
                    <input type="text" id="patient-id" name="patient-id" required>

                    <label for="discharge-date">Discharge Date:</label>
                    <input type="date" id="discharge-date" name="discharge-date" required>
                    <input type="submit" value="Submit">
                </form>
            </div>
            <div id="Make Doctor Appointment" class="form-panel">
                <h2 style="margin-top: 80px;">Make Doctor's Appointment</h2>
                <h3>(Make sure Patient is Registered first)</h3>
                <form action="#" method="post">
                    <label for="patient-id">Patient ID:</label>
                    <input type="text" id="patient-id" name="patient-id" required>

                    <label for="doc-id">Doctor ID:</label>
                    <input type="text" id="doc-id" name="doc-id" required>
                    <input type="submit" value="Submit">
                </form>
            </div>
            <div id="Make TnT Appointment" class="form-panel">
                <h2 style="margin-top: 80px;">Make Test/Treatment Appointment</h2>
                <!-- <h3>(Make sure Patient is Registered first)</h3>
                <form>
                    <label for="patient-id">Patient ID:</label>
                    <input type="text" id="patient-id" name="patient-id" required>
                    <input type="submit" value="Submit">
                </form> -->
                <table>
                    <thead>
                        <tr>
                            <th>Patient Name</th>
                            <th>Age</th>
                            <th>Gender</th>
                            <th>Appointment Date</th>
                            <th>Action</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>John Doe</td>
                            <td>35</td>
                            <td>Male</td>
                            <td>05/03/2023</td>
                            <td>
                                <button class="btn-schedule" onclick="scheduleAppointment(this)">Schedule</button>
                                <button class="btn-delete hidden" onclick="deleteAppointment(this)">Delete</button>
                            </td>
                            <td class="not-scheduled">Not yet Scheduled</td>
                        </tr>
                        <tr>
                            <td>Jane Smith</td>
                            <td>28</td>
                            <td>Female</td>
                            <td>06/03/2023</td>
                            <td>
                                <button class="btn-schedule" onclick="scheduleAppointment(this)">Schedule</button>
                                <button class="btn-delete hidden" onclick="deleteAppointment(this)">Delete</button>
                            </td>
                            <td class="not-scheduled">Not yet Scheduled</td>
                        </tr>
                        <!-- Add more rows as needed -->
                    </tbody>
                </table>

                <div id="scheduled"></div>

                <script>
                    function scheduleAppointment(button) {
                        var row = button.parentNode.parentNode;
                        var patientName = row.cells[0].textContent;
                        var age = row.cells[1].textContent;
                        var gender = row.cells[2].textContent;
                        var appointmentDate = row.cells[3].textContent;

                        generatePdf(patientName, age, gender, appointmentDate);

                        row.remove();
                    }

                    function generatePdf(patientName, age, gender, appointmentDate) {
                        var doc = new jsPDF();
                        doc.text("Patient Name: " + patientName, 20, 20);
                        doc.text("Age: " + age, 20, 30);
                        doc.text("Gender: " + gender, 20, 40);
                        doc.text("Appointment Date: " + appointmentDate, 20, 50);
                        doc.save(patientName+" Schedule.pdf");
                    }

                    function deleteAppointment(button) {
                        var row = button.parentNode.parentNode;
                        deleteRow(row);
                    }

                    function deleteRow(row) {
                        row.remove();
                    }
                </script>
            </div>
        </div>
    </div>

    <script>
        // Get all option links and form panels
        const optionLinks = document.querySelectorAll('.option-link');
        const formPanels = document.querySelectorAll('.form-panel');

        // Add click event listener to each option link parent element
        optionLinks.forEach(link => {
            link.parentElement.addEventListener('click', (event) => {
                // Prevent default link behavior
                event.preventDefault();

                // Remove active class from all option links and form panels
                optionLinks.forEach(link => link.classList.remove('active'));
                formPanels.forEach(panel => panel.classList.remove('active'));

                // Get ID of selected form panel
                const panelId = link.getAttribute('data-panel');

                // Add active class to selected option link and form panel
                link.classList.add('active');
                document.getElementById(panelId).classList.add('active');
            });
        });
    </script>
</body>

</html>